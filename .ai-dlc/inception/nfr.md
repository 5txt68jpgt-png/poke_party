# NFR（非機能要件）- PokeParty

## パフォーマンス

### NFR-1: パーティ生成時間
- **要件**: パーティ生成は10秒以内に完了する
- **理由**: 遊び前の準備で待たされるとストレス
- **計測方法**: 生成ボタン押下から結果表示までの時間
- **優先度**: Must

### NFR-2: 初期表示速度
- **要件**: 初回ページ読み込みは3秒以内
- **理由**: スマホでサッと開けることが重要
- **計測方法**: Lighthouse Performance Score 80以上
- **優先度**: Should

### NFR-3: 画面遷移・操作のレスポンス
- **要件**: UI操作（タブ切り替え、モーダル表示等）は100ms以内
- **理由**: ごっこ遊び中のテンポを崩さない
- **計測方法**: ユーザー操作から画面反映までの時間
- **優先度**: Must

---

## 可用性

### NFR-4: サービス稼働率
- **要件**: 99%以上の稼働率（Vercel標準SLA）
- **理由**: 遊びたいときに使えないと困る
- **計測方法**: Vercelダッシュボード
- **優先度**: Should

### NFR-5: エラーハンドリング
- **要件**: API障害時にユーザーフレンドリーなエラーメッセージを表示
- **理由**: 親が困惑しないように
- **計測方法**: 各種障害シナリオでのテスト
- **優先度**: Must

---

## ユーザビリティ

### NFR-6: モバイルファースト
- **要件**: スマートフォン（375px〜428px幅）で最適な表示
- **理由**: メインデバイスがスマホ
- **計測方法**: 実機およびDevToolsでの確認
- **優先度**: Must

### NFR-7: タッチ操作
- **要件**: タップターゲットは44px × 44px以上
- **理由**: 片手操作でも押しやすく
- **計測方法**: UIコンポーネントの実測
- **優先度**: Must

### NFR-8: 視認性
- **要件**: コントラスト比4.5:1以上（WCAG AA準拠）
- **理由**: 屋外や明るい場所でも見やすく
- **計測方法**: Lighthouse Accessibility Score
- **優先度**: Should

### NFR-9: 日本語対応
- **要件**: 全てのUI・データが日本語表示
- **理由**: ターゲットユーザーが日本語話者
- **計測方法**: 画面上の全テキスト確認
- **優先度**: Must

---

## セキュリティ

### NFR-10: APIキー保護
- **要件**: OpenAI APIキーはサーバーサイドのみで使用
- **理由**: クライアントに露出させない
- **計測方法**: ブラウザDevToolsでの確認
- **優先度**: Must

### NFR-11: 入力バリデーション
- **要件**: ユーザー入力は適切にサニタイズ
- **理由**: インジェクション攻撃防止
- **計測方法**: セキュリティテスト
- **優先度**: Must

---

## 保守性

### NFR-12: コード品質
- **要件**: TypeScript strict mode、ESLint/Prettier適用
- **理由**: 将来の機能追加に備えて
- **計測方法**: CI/CDでのチェック
- **優先度**: Should

### NFR-13: テストカバレッジ
- **要件**: 主要機能のユニットテスト
- **理由**: リグレッション防止
- **計測方法**: Jest coverage report
- **優先度**: Could（MVP後）

---

## コスト

### NFR-14: OpenAI API使用量
- **要件**: 1回のパーティ生成で$0.01以下
- **理由**: 運用コストを抑える
- **計測方法**: APIコンソールでの使用量確認
- **優先度**: Should

### NFR-15: ホスティング費用
- **要件**: Vercel無料枠内で運用
- **理由**: 個人プロジェクトとして継続可能に
- **計測方法**: Vercelダッシュボード
- **優先度**: Should

---

## 優先度サマリー

| 優先度 | NFR |
|--------|-----|
| Must | NFR-1, NFR-3, NFR-5, NFR-6, NFR-7, NFR-9, NFR-10, NFR-11 |
| Should | NFR-2, NFR-4, NFR-8, NFR-12, NFR-14, NFR-15 |
| Could | NFR-13 |
